// Correlation - Liquid and Amorphous Solid Analysis Tool
// Copyright © 2013-2026 Isaías Rodríguez (isurwars@gmail.com)
// SPDX-License-Identifier: MIT
// Full license: https://github.com/Isurwars/Correlation/blob/main/LICENSE

import {
    MaterialStyleMetrics,
    MaterialTypography,
    MaterialPalette,
    OutlinedCard,
    MaterialText,
} from "@material";
import { AtomCount } from "Types.slint";

export component FileInfoCard inherits OutlinedCard {
    in-out property <string> file_status_text;
    in property <bool> file_loaded;
    in property <int> num_frames;
    in property <int> total_atoms;
    in property <[AtomCount]> atom_counts;

    opacity: root.file_loaded ? 1.0 : 0.5;
    VerticalLayout {
        padding: MaterialStyleMetrics.padding_16;
        spacing: MaterialStyleMetrics.spacing_12;
        MaterialText {
            text: "2. File Info";
            style: MaterialTypography.title_medium;
        }

        VerticalLayout {
            spacing: MaterialStyleMetrics.spacing_4;

            Text {
                text: root.file_status_text;
                color: MaterialPalette.on_surface;
                wrap: word-wrap;
            }

            HorizontalLayout {
                MaterialText {
                    text: "Frames:";
                    horizontal-stretch: 1;
                }

                MaterialText {
                    text: root.num_frames;
                    horizontal-alignment: right;
                }
            }

            HorizontalLayout {
                MaterialText {
                    text: "Total Atoms:";
                    horizontal-stretch: 1;
                }

                MaterialText {
                    text: root.total_atoms;
                    horizontal-alignment: right;
                }
            }

            Rectangle {
                height: 1px;
                background: MaterialPalette.outline_variant;
            }

            for info in root.atom_counts: HorizontalLayout {
                MaterialText {
                    text: info.symbol + ":";
                    horizontal-stretch: 1;
                }

                MaterialText {
                    text: info.count;
                    horizontal-alignment: right;
                }
            }
        }
    }
}
