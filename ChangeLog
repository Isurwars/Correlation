# Changelog
All notable changes to this project will be documented in this file.

## [1.9.9] 2026-02-04

### Added
- Implemented Velocity Autocorrelation Function (VACF) calculation.
- Added `velocities_` storage and calculation to `Trajectory`.
- Added `DynamicsAnalyzer` class for computing dynamic properties (VACF, Normalized VACF).
- Automatic detection and removal of repeated frames during trajectory initialization.

### Changed
- Added missing license headers to project files.
- UI: Highlighted removed frames in red for better visibility.
- GUI improvements.
- Force Dark theme.
## [1.9.8] 2026-02-02

### Added
- Added "START" and "END" keywords to Min/Max Frame selection for easier trajectory range handling.
- Reintegrated `LinearProgressIndicator` and `CircularProgressIndicator` to Material 1.0 library.
- Added native Save File Dialog for "Write Files" output selection.

### Fixed
- Corrected PAD (Plane Angle Distribution) calculations to match v1.0.4 results.

### Changed
- Updated progress bar logic and UI to use `LinearProgressIndicator` for consistent Material Design aesthetics.

## [1.9.7] 2026-01-29

### Changed
- Removed `theta_cut` argument from `calculatePAD` (fixed to 180°).
- Refactored `CMakeLists.txt` to modularize dependencies and tests.
## [1.9.6] 2026-01-27

### Added
- Implemented asynchronous analysis to prevent the GUI from freezing during calculations.
- Added a progress bar to visualize analysis status.
- Separated "Analyze" and "Write Files" into distinct actions.

### Fixed
- Fixed implicit capture of `this` warning in `AppController.cpp` (C++20).

## [1.9.5] 2026-01-26

### Added
- Implemented trajectory averaging to calculate mean distributions over selected frames.
- Added controls for frame range selection (Minimum/Maximum Frame).
- Enhanced `FileInfoCard` to show detailed file statistics: frame count, element types/counts, and total atoms.

### Changed
- Refined `AppWindow` layout to a two-column design for better use of screen space.
- Improved component visibility: inactive UI elements are now disabled instead of hidden.
- Refactored `DistributionFunctions` to support histogram accumulation.
- Refactored test suite to utilize the `Trajectory` object for consistent frame handling.

### Fixed
- Re-implemented HDF5 dimension scales using the HDF5 High Level (HL) C API to resolve missing `makeScale` support in the C++ wrapper.
- Fixed a syntax error in `src/main.cpp`.

## [1.9.4] 2026-01-26
 
 ### Added
 - Added `Element-Any` and `Any-Any` columns to the Coordination Number (CN) distribution for aggregated neighbor counting.
 - Added descriptions and unit metadata to HDF5 output groups and datasets.
 - Added trajectory revision to support removing duplicated frames.
 - Added parsing of frame energy from `.arc` files.
 
 ### Changed
 - Improved HDF5 internal structure by sanitizing group names (e.g., removing parentheses) and adding consistent unit attributes (`Angstrom`, `Angstrom^-1`, etc.).
 - Updated project version to 1.9.4 in `CMakeLists.txt`.

## [1.9.3] 2026-01-26

### Changed
- Refactored tests to use Trajectory object for Cell and cutoff management.
- Updated project version to 1.9.3 in CMakeLists.txt.

## [1.9.1] 2026-01-23


### Added
- Added support for reading ARC trajectory files (`.arc`).
- Implemented `Trajectory` class for handling multi-frame simulations.
- Added `readTrajectory` function to `FileIO`.
- Added unit tests for ARC file reading and duplicate frame handling.

### Fixed
- Fixed compilation issues on Windows.

## [1.9.0] 2026-01-22

### Added
- Migrated data output to HDF5 format (via `.h5` files), providing a consolidated and more efficient alternative to multiple CSV files.
- Integrated **HighFive** (v2.10.1) for modern C++ HDF5 support.

### Fixed
- Resolved CMake configuration error ("Compatibility with CMake < 3.5 has been removed") by updating HighFive and setting `CMAKE_POLICY_VERSION_MINIMUM` to 3.5.
- Fixed a UI initialization bug where the "Gaussian" smoothing kernel was not correctly displayed in the dropdown on startup.

### Changed
- Refactored `OptionsCard.slint` to set **Smoothing** to be always enabled by default, simplifying the UI and ensures consistent analysis results.
- Updated project version to 1.9.0 in `CMakeLists.txt`.

## [1.8.2] 2026-01-21

### Fixed
- Fixed tooltip positioning by ensuring the `AppToolTips` container is correctly anchored and sized in `AppWindow.slint`.
- Fixed a property name typo in `AppWindow.slint`.

### Changed
- Refined `AppToolTips` component to inherit from `Rectangle` with a transparent background to ensure coordinate consistency.
- Improved tooltip aesthetics by adjusting maximum text width to 190px and enabling horizontal center alignment in the Material tooltip component.
- Updated project version to 1.8.2 in `CMakeLists.txt`.

## [1.8.1] 2026-01-20

### Changed
- Simplified `AppBackend` and `AppController` by removing legacy variables: `bond_factor`, `max_angle`, and `normalize`.
- Hardcoded the default **Bond Factor** to 1.2 across the application to provide a more stable out-of-the-box experience.
- Refactored `DistributionFunctions` and `Cell` classes to remove unused configuration parameters.
- Cleaned up `AppWindow.slint` UI by removing redundant input fields and adjusting spacing for better clarity.
- Updated all unit tests (`Cell_test`, `Distribution_Functions_tests`, `StructureAnalyzer_test`, etc.) to reflect the simplified API and hardcoded defaults.

## [1.8] 2026-01-18

### Added
- New **Bond Cutoffs** section in the UI for element-specific distance control.
- Dynamic **Atom Counts** display after loading a structure file.
- Support for setting and applying user-defined bond cutoffs per element pair.
- Integrated tooltips directly into UI components for better contextual help.

### Changed
- Reorganized `AppWindow.slint` into a guided 5-step workflow using `OutlinedCard`.
- Updated `AppBackend` and `AppController` to handle element-specific bond cutoff logic.
- Improved UI responsiveness and layout clarity by grouping related parameters.
- Updated project version to 1.8 in `CMakeLists.txt`.
- Increased `AppWindow` preferred height to 750px for better vertical layout accommodation.

### Fixed
- Fixed `ToolTip` rendering order to ensure tooltips appear on top of all other elements.
- Fixed `DropDownMenu` default index issue for "Smoothing Kernel" selection.

## [1.7] 2026-01-14


### Added
- Refactored entire UI to use **Material Design** components.
- Integrated `material-1.0` Slint library for premium aesthetics.
- Added Material Design `FilledButton`, `CheckBox`, `OutlinedCard`, and `DropDownMenu`.
- Added `slint-config.json` for centralized `@material` library mapping.

### Changed
- Replaced standard widgets with Material equivalents in `ui/AppWindow.slint`.
- Updated `ui/AppWindow.slint` to use `@material` imports via `slint-config.json`.
- Improved tooltip text distribution and typography in `ToolTip.slint`.
- Adjusted `ToolTip` positioning in `AppWindow.slint` for improved layout.
- Updated project version to 1.7 in `CMakeLists.txt`.

### Fixed
- Fixed export errors for `MaterialPalette` and `CheckBoxTile` in `material.slint`.
- Fixed functionality of `DropDownMenu` for Smoothing Kernel selection.
- Fixed deprecated `rotation-angle` property in `date_picker.slint` (replaced with `transform-rotation`).
- Cleaned up redundant `ui/Theme.slint` and `ui/InputGroup.slint` (functionality moved to Material Design).

## [1.6] 2026-01-13

### Added
- Icosahedron Angle Test in `tests/AngleTests.cpp`.
- Missing color definitions to `ui/Theme.slint`.

### Changed
- Refactored `ui/AppWindow.slint` to use `VerticalLayout` and `GroupBox` for better UI organization.
- Updated project version to 1.6 in `CMakeLists.txt`.

### Fixed
- Fixed unit conversion error in `ui/AppWindow.slint`.
- Fixed "Unknown property max-height" error in `ui/AppWindow.slint`.

## [1.5] 2026-01-07

### Refactor
- Fused `Angle_Reproduction_tests.cpp` and `PAD_tests.cpp` into a single `tests/AngleTests.cpp` file for better organization.
- Refactored `AtomID` from a struct to a simple `std::uint32_t` alias, removing the unused `offset` field to simplify the codebase.
- Updated `Atom::setID` and all `AtomID` usages (e.g., removing `.value` accesses) to match the new type definition.

### Added
- Comprehensive neighbor detection tests in `StructureAnalyzer_test.cpp`:
    - `FindsNoNeighborsForIsolatedAtom`: Validates isolation of single atoms.
    - `FindsNeighborsBasedOnBondCutoff`: Ensures bond radius + bond factor logic is strictly followed.
    - `EnforcesNeighborSymmetry`: Checks that neighbor lists are symmetric (A sees B => B sees A).
    - `HandlesPeriodicSelfInteractions`: Verifies self-interaction logic across periodic boundaries.
    - `TriangleMoleculeConnectivity`: Validates connectivity in cyclic triangular structures.
- New `SiTetrahedron_5Atoms` test case in `Angle_Reproduction_tests.cpp`:
    - Simulates a full Silicon tetrahedron (1 center + 4 neighbors).
    - Verifies exact count of 6 tetrahedral angles (109.47°).
    - Explicitly checks for 0 "other" (unexpected) angles.
- New `BondCutoffPopulationCorrectness` test in `Cell_test.cpp` to verify `bond_cutoffs_sq_` management.

### Fixed
- **Critical Bug**: `Cell::setBondFactor` now properly clears the cached `bond_cutoffs_sq_`, ensuring that runtime changes to the bond factor (e.g., during tests) are immediately applied.
- **Data Consistency**: Verified Covalent Radii in `PhysicalData.hpp` against Pyykkö (2009) data. Reverted Bismuth (Bi) radius from 1.50 Å to 1.51 Å to maintain consistency with the dataset.
- Fixed `ctest` configuration issues related to missing `DartConfiguration.tcl` by ensuring proper CMake regeneration.

## [1.3] 2025-12-04

### Added
- Angle reproduction tests and example structure file.
- FiraCode fonts support.
- Feedback mechanism from backend to App.
- LabeledEdit component and InputGroup to AppWindow.
- Theme support.
- ToolTips for most parameters in the GUI.
- Application icon for Windows and Linux.
- Logo to window component.
- All parameters are now available in the GUI.
- Move semantics for DistributionFunction and Cell objects.
- Portable file dialogs support.

### Changed
- Refined UI layout and responsiveness.
- Moved App logic to a new AppController object.
- Moved Bond Distance matrix to the Cell object.
- Reimplemented Bump kernel in Smoothing header.
- Moved constants to PhysicalData header.
- Reduced ProgramOptions to a single header file.
- Updated UI and Backend initialization.

### Fixed
- Multiple fixes for Windows compilation and CMake configuration (MSVC 2022).
- Corrections for Path handling in Windows.
- Fixes to Smoothing for PAD, CN, and when bin width/sigma were problematic.
- Fixes to g(r), J(r), G(r), and S(Q) calculations.
- Fixed Total PAD not being calculated.
- Fixed global path to app_window.h.

### Removed
- Removed code for writing histograms.
- Removed min Q for S(Q) calculation and CSV writers.
- Removed redundant code and old constants header references.

## [1.2] 2025-09-15
- Several improvements were made to the code in order to modernize
and incorporate new features.
- Added GUI for easy of use.


## [1.0.4] 2021-12-21
- Added support for self interactions, important for small crystals.
- Switch to std::filesystem to generate paths.
- Added Smoothing option: Kernel Smoothing with Gaussian Kernel.
- Added BumpKernel as second option, more kernels will be added.
- Added Total correlation functions (previously only partials were reported).
- Added initial support for Voronoi and Voronoi index. (Road to 1.1)

## [1.0.3] 2021-10-12
- Major refactor of the code in preparation for MultiThreading.
- The code now comply with google c++ style guidelines.
- Modify the name for the Coordination Number (Z).
- Modify the labels in the coordination number file (Z)to comply
  with the standard atom A surrounded by atoms B: A by B.

## [1.0.2] 2021-09-17
- Minor style corrections to paper.md and README.md.
- Updated DOI for JOSS paper.

## [1.0.1] 2021-09-11
- Minor fix to paper.md to correct a compile error from whedon.

## [1.0.0] 2021-09-06
- First official release.

## [1.0.0 rc9] 2021-09-06
- Added test 8, an structure of amorphous Palladium-Gold-Hydrogen,
  the structure was provided by Alejandro de Leon and Salvador Villareal.
  This new test should take at least 1 hour and require more RAM.
- Added new option '-n'/"--normalize", this parameter change between
  weighted partials (default), or normalized partials.

## [1.0.0 rc8] - 2021-09-02
- Temporal Fix to S(Q) weird behavior for small Q. (0<=Q<1)
  Because of the abnormal results for small Q, and in the process of
  getting better results for small Q, we decided to remove the unreliable
  information for this segment, now we report for Q above 1.0.
- Added -q/--q_bin_width parameter in order to further personalize the
  structure factor options.
- Updated the "aPdH.cell" file, in order to correctly reflect the
  structure of the article.
- Added arguments to tests in the Makefile:
  -a in test 1,
  -b in test 2,
  -q in test 3,
  -i was already in test 4,
  -w in test 5,
  -r in test 6.
- Fixed padding in output files (purely cosmetic).
- Fixed Tests to match new padding and options (see above).
- Update to documentation: README.md, paper.md and command line help
  to reflect current functionality.

## [1.0.0 rc7] - 2021-08-01
- Fixed a bug in reduced Pair Distribution Function (rPDF) (G(r))
  in alloys (pure element structures unaffected).
- Added weighing to the calculated properties, related to the above bug.
- Added units to Comma Separated Values (CSV) files.
- Actualized the test archives to match the new headings with units.


## [1.0.0 rc6] - 2021-07-28
- Added Contributing guidelines.
- Added Code of Conduct.
- Fixed several typos in the README and paper.
- Fixed a bug in Bin Width option (-w, --bin_width).
- Fixed the command "make clean-all" to match the README.

## [1.0.0 rc5] - 2021-07-23
- Several Typos in the project were corrected.
- Added units to the output files.
- Corrected paper.md to comply with reviewers corrections.

## [1.0.0 rc4] - 2021-04-11
- Major revision to README file
- Minor bugs corrections in main.cpp and Makefile.am

## [1.0.0 rc3] - 2021-03-04

### Added
- Tests now check validity of the results.
- Test 7 (make test7), also known as an stress test has been incorporated.
  This test should take several minutes and a large amount of RAM.
- Added a new option to clean the test directory (make clean-test)

### Modify
- clean-local option now leaves a working Makefile and the Binary.
  This modification should help with testing, while keeping a clean
  directory.
- cleanall option now replace clean-local

## [1.0.0 rc2] - 2021-02-28

### Added
- configure and Makefile.in, generated with GNU autotools.
- AUTHORS and Changelog files now included.

### Modify
- Old Makefile is included as Makefile.old
